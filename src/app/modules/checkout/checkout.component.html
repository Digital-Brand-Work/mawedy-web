<div
	*ngIf="subscription$ | async as subscription"
	class="grid grid-cols-1 md:grid-cols-2 w-screen"
>
	<div
		@slideInTop
		*ngIf="interval$ | async as interval"
		class="text-white bg-emerald-500 w-full flex justify-center md:justify-end md:py-30"
	>
		<div class="max-w-screen-sm w-full mb-10">
			<button
				routerLink="/subscription"
				class="flex my-2 text-xl items-center hover:text-white text-emerald-300"
			>
				<mat-icon
					svgIcon="heroicons_solid:arrow-narrow-left"
					class="mr-3"
				></mat-icon>
				Back
			</button>

			<div class="text-2xl opacity-70 mt-10">
				{{ subscription.name }}
			</div>

			<div class="mb-5 text-5xl font-bold">
				{{
					subscription.price +
						additionalUsers * PRICE_PER_USER * billMultiplier
						| currency: 'AED '
				}}
				<span class="text-sm">/ {{ interval | titlecase }}</span>
			</div>

			<div class="text-left my-2 self-start text-lg font-bold">
				Inclusive:
			</div>

			<ul class="w-full min-w-90 px-20 font-normal">
				<li
					class="text-gray flex items-end py-4 border-b border-b-emerald-400 w-full"
				>
					<div class="text-2xl flex flex-col">
						{{ subscription.type }}
						<div class="opacity-70 text-base">
							{{ subscription.name }}
						</div>
					</div>

					<div class="text-2xl ml-auto">
						{{ subscription.price | currency: 'AED ' }}
					</div>
				</li>

				<li
					class="text-gray flex items-center py-4 border-b border-b-emerald-400 w-full"
				>
					<div class="text-2xl">Subtotal</div>

					<div class="text-2xl ml-auto">
						{{ subscription.price | currency: 'AED ' }}
					</div>
				</li>
				<li
					class="text-gray flex items-center py-4 border-b border-b-emerald-400 w-full opacity-70"
				>
					<div class="text-base">
						Additional Users x {{ additionalUsers }}
					</div>

					<div class="text-base ml-auto">
						{{
							additionalUsers * PRICE_PER_USER * billMultiplier
								| currency: 'AED '
						}}
					</div>
				</li>

				<li class="text-gray flex items-center py-4 w-full">
					<div class="text-2xl">Total Due</div>

					<div class="text-2xl ml-auto">
						{{
							subscription.price +
								additionalUsers *
									PRICE_PER_USER *
									billMultiplier | currency: 'AED '
						}}
					</div>
				</li>
			</ul>
		</div>
	</div>

	<div class="w-screen h-screen p-15 md:px-10">
		<google-pay-button
			environment="TEST"
			buttonType="buy"
			buttonColor="black"
			[paymentRequest]="{
				apiVersion: 2,
				apiVersionMinor: 0,
				allowedPaymentMethods: [
					{
						type: 'CARD',
						parameters: {
							allowedAuthMethods: ['PAN_ONLY', 'CRYPTOGRAM_3DS'],
							allowedCardNetworks: ['AMEX', 'VISA', 'MASTERCARD']
						},
						tokenizationSpecification: {
							type: 'PAYMENT_GATEWAY',
							parameters: {
								gateway: 'example',
								gatewayMerchantId: 'exampleGatewayMerchantId'
							}
						}
					}
				],
				merchantInfo: {
					merchantId: '12345678901234567890',
					merchantName: 'Demo Merchant'
				},
				transactionInfo: {
					totalPriceStatus: 'FINAL',
					totalPriceLabel: 'Total',
					totalPrice: '100.00',
					currencyCode: 'USD',
					countryCode: 'US'
				}
			}"
			(loadpaymentdata)="onLoadPaymentData($event)"
		></google-pay-button>
	</div>
</div>
