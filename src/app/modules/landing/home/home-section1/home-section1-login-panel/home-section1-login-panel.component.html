<form
	@zoomIn
	[formGroup]="form"
	[ngClass]="{ 'pointer-events-none opacity-40': isProcessing }"
	class="flex flex-col items-center justify-center w-full px-5 py-10 bg-white md:rounded-lg drop-shadow-lg md:px-10 mt-[69px] max-w-screen-sm ml-auto"
>
	<img
		class="mb-5 h-36 max-w-50"
		src="/assets/app/logo.svg"
		alt="Mawedy Logo"
	/>

	<input
		#input
		type="email"
		placeholder="Email"
		formControlName="email"
		[ngClass]="{
			'text-red-500': errors.email && !isProcessing,
			'border-red-500/95':
				!form.get('email')?.valid &&
				form.get('email')?.touched &&
				!isProcessing
		}"
		class="w-full px-3 py-2 mt-5 bg-white border rounded-md border-gray-300/80 -md focus:border-teal-500"
	/>

	<div
		*ngIf="
			!form.get('email')?.valid &&
			form.get('email')?.touched &&
			!isProcessing
		"
		class="text-sm text-left text-rose-500 self-baseline"
	>
		Invalid email format.
	</div>

	<input
		type="password"
		placeholder="Password"
		formControlName="password"
		[ngClass]="{
			'text-red-500': errors.password && !isProcessing,
			'border-red-500/95':
				!form.get('password')?.valid &&
				form.get('password')?.touched &&
				!isProcessing
		}"
		class="w-full px-3 py-2 mt-3 bg-white border rounded-md border-gray-300/80 -md focus:border-teal-500"
	/>

	<div
		*ngIf="
			!form.get('password')?.valid &&
			form.get('password')?.touched &&
			!isProcessing
		"
		class="text-sm text-left text-rose-500 self-baseline"
	>
		Password is required.
	</div>

	<a
		routerLink="/auth"
		role="button"
		class="self-end mt-5 text-right text-gray-400 hover:underline"
		>Forgot Password ?</a
	>

	<button
		(click)="login()"
		[disabled]="!form.valid || isProcessing"
		[ngClass]="{
			' hover:bg-emerald-600': form.valid && !isProcessing,
			'bg-opacity-40 pointer-events-none': !form.valid || isProcessing
		}"
		class="flex items-center justify-center w-full px-10 py-2 mt-8 text-white rounded-md bg-emerald-500"
	>
		<spinner *ngIf="isProcessing"></spinner>

		<div class="text-white" *ngIf="!isProcessing">Sign In</div>
	</button>
</form>
