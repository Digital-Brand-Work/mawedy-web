<form
	[formGroup]="form"
	#ngForm="ngForm"
	class="md:rounded-lg pt-10 pb-20 flex flex-col justify-center items-center bg-white w-full px-5 md:px-10 drop--custom"
>
	<img
		class="h-36 max-w-50 mb-5"
		src="/assets/app/logo.svg"
		alt="Mawedy Logo"
	/>

	<input
		#input
		type="email"
		autocomplete="email"
		placeholder="Email"
		formControlName="email"
		[ngClass]="{
			'text-red-500': errors.email && !form.disabled,
			'border border-red-500 bg-red-50':
				!form.get('email')?.valid &&
				form.get('email')?.touched &&
				!form.disabled,
			'bg-white border border-gray-300/80':
				(form.get('email')?.valid && form.get('email')?.touched) ||
				!form.get('email')?.touched
		}"
		class="py-4 px-5 rounded-md -md w-full focus:border-teal-500 focus:border-2 focus:-md focus:-teal-500/20 mt-5"
	/>

	<div
		*ngIf="
			!form.get('email')?.valid &&
			form.get('email')?.touched &&
			!form.disabled
		"
		class="text-sm text-rose-500 text-left self-baseline"
	>
		Invalid email format.
	</div>

	<input
		type="password"
		placeholder="Password"
		autocomplete="password"
		formControlName="password"
		[ngClass]="{
			'text-red-500': errors.password && !form.disabled,
			'border border-red-500 bg-red-50':
				!form.get('password')?.valid &&
				form.get('password')?.touched &&
				!form.disabled,
			'bg-white border border-gray-300/80':
				(form.get('password')?.valid &&
					form.get('password')?.touched) ||
				!form.get('password')?.touched
		}"
		class="py-4 px-5 rounded-md -md w-full focus:border-teal-500 focus:border-2 focus:-md focus:-teal-500/20 mt-5"
	/>

	<div
		*ngIf="
			!form.get('password')?.valid &&
			form.get('password')?.touched &&
			!form.disabled
		"
		class="text-sm text-rose-500 text-left self-baseline"
	>
		Password is required.
	</div>

	<a
		routerLink="/auth"
		role="button"
		class="text-right text-gray-400 mt-5 self-end hover:underline"
		>Forgot Password ?</a
	>

	<button
		(click)="login()"
		[disabled]="!form.valid || form.disabled"
		[ngClass]="{
			'bg-emerald-500 hover:bg-emerald-600': form.valid && !form.disabled,
			'bg-gray-400 pointer-events-none': !form.valid || form.disabled
		}"
		class="text-white py-3 px-10 text-xl -lg rounded-md flex items-center mt-10"
	>
		<spinner *ngIf="form.disabled"></spinner>

		<div *ngIf="!form.disabled">Sign In</div>
	</button>
</form>
