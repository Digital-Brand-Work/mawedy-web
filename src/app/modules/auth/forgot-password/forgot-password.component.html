<div class="min-h-screen flex items-center justify-center w-full">
    <div class="w-full max-w-screen-sm flex items-center justify-center" [formGroup]="form">
        <div *ngIf="!validated" @slideInBottom class="flex items-center justify-center w-3/4 flex-col">
            <div class="flex items-center justify-center h-24 w-24 bg-gray-50 mb-5 rounded-full">
                <i class="bi bi-key-fill text-gray-500 text-4xl"></i>
            </div>

            <div class="text-3xl text-center accent-color">Forgot Password?</div>

            <div class="text-lg text-gray-400 text-center mt-2 font-normal">
                No worries, we'll send you reset instructions.
            </div>

            <div class="form flex flex-col w-full mb-5 mt-10">
                <label for="email" class="mb-2">Email</label>

                <input #email id="email" type="email" formControlName="email" [ngClass]="{
						'animate__headShake border-red-300':
							form.get('email')?.invalid && form.get('email')?.touched
					}" class="animate__animated w-full border rounded-lg px-5 py-3" />

                <div *ngIf="hasErrorEmail" @slideInBottom class="text-rose-500 text-base -mb-1 font-light">
                    Your email wasn't recognized.
                </div>

                <div *ngIf="throttled" @slideInBottom class="text-rose-500 text-base -mb-1 font-light">
                    Try again resting your password after a minute.
                </div>
            </div>

            <button [ngClass]="{
					'bg-emerald-500 hover:bg-emerald-600 ': !throttled && form.valid && !form.disabled,
					'bg-gray-400 pointer-events-none':
						throttled || !form.valid || form.disabled
				}" (click)="send()"
                class="w-full justify-center hover:bg-green-800/60 text-white p-3 px-16 text-xl mb-3 flex items-center mx-auto rounded-md">
                <div *ngIf="!form.disabled">Reset Password</div>

                <div *ngIf="form.disabled">Sending your password reset form...</div>
            </button>

            <a routerLink="/" role="button" class="flex items-center mt-10 text-gray-500">
                <i class="bi bi-arrow-left"></i>

                <div class="ml-2 hover:text-black">Back to Sign In</div>
            </a>
        </div>

        <div *ngIf="validated" @slideInBottom class="flex items-center justify-center w-3/4 flex-col">
            <div class="flex items-center justify-center h-24 w-24 bg-gray-50 mb-5 rounded-full">
                <i class="bi bi-envelope text-gray-500 text-4xl"></i>
            </div>

            <div class="text-3xl text-center accent-color">Check your email</div>

            <div class="text-lg text-gray-400 text-center mt-2 font-normal">
                We sent a password reset link to <br />
                {{ form.value.email }}.
            </div>

            <a target="_blank" href="https://mail.google.com/"
                class="w-full justify-center bg-emerald-500 hover:bg-emerald-600 text-white p-3 px-16 text-xl mb-3 flex items-center mx-auto rounded-md mt-10">
                <div>Open Gmail</div>
            </a>

            <div @slideInBottom *ngIf="(throttle$ | async) !== 0" class="my-3 font-normal">
                you can resend after
                <span role="button" class="text-rose-500 text-xl ml-2">{{
                    throttle$ | async
                    }}</span>
            </div>

            <div @slideInBottom *ngIf="(throttle$ | async) === 0" class="my-3 font-normal">
                Didn't received an email?
                <span (click)="send()" role="button" class="text-green-800/90 hover:underline">Click to resend</span>
            </div>

            <a routerLink="/" role="button" class="flex items-center mt-10 text-gray-500">
                <i class="bi bi-arrow-left"></i>

                <div class="ml-2 hover:text-black">Back to Sign In</div>
            </a>
        </div>
    </div>
</div>